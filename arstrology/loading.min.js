function shuffle(e){for(var n,t,a=e.length;0!==a;){var o=new Math.seedrandom((new Date).getTime().toString(),{entropy:!0});t=Math.floor(o()*a),n=e[a-=1],e[a]=e[t],e[t]=n}return e}const $loadingBG=$(".loadingBG"),$loadingMoon=$(".loadingMoon"),$loadingShade=$(".loadingShade"),$allNotLoading=$("* :not(.loadingBG):not(.loadingMoon):not(.loadingShade)");function finishLoading(){$allNotLoading.addClass("displayAll"),setTimeout(function(){$loadingShade.addClass("loadHalf")},750),setTimeout(function(){$allNotLoading.removeClass("displayAll"),$.getScript("./overlayScroll/jquery.overlayScrollbars.min.js").done(function(){$.getScript("./script.min.js").done(function(){$loadingShade.addClass("loadFull"),setTimeout(function(){$loadingBG.css("display","none"),$(".setting").css("opacity","1")},1500)}).fail(function(){alert("loading failed..")})}).fail(function(){alert("loading failed..")})},1500)}function onFileParsed(){3==files_loaded&&finishLoading()}function loadTextFromFiles(){$.get("./sign-text/sign-decode-inner-html.txt",function(e){signs_decode_array=e.split("<|TheNextSign|>")}).done(()=>{++files_loaded,onFileParsed()}).fail(()=>{alert("loading sign text failed..")}),$.get("./sign-text/sign-element-inner-html.txt",function(e){signs_element_array=e.split("<|TheNextSign|>")}).done(()=>{++files_loaded,onFileParsed()}).fail(()=>{alert("loading sign text failed..")}),$.get("./sign-text/sign-reading-inner-html.txt",function(e){let n=e.split("<|TheNextSign|>"),t=(new Date).getDate();if(null===localStorage.getItem("date")?(can_randomize_sign_text=!0,localStorage.setItem("date",t)):localStorage.getItem("date")!=t?(can_randomize_sign_text=!0,localStorage.removeItem("date"),localStorage.setItem("date",t)):can_randomize_sign_text=!1,console.log(`update arstro- text? ${can_randomize_sign_text}`),can_randomize_sign_text){for(var a=0;a<n.length;a++)signs_reading_2d_arr[a]=shuffle(n[a].split("<|Pparse|>"));localStorage.removeItem("today-text"),localStorage.setItem("today-text",JSON.stringify(signs_reading_2d_arr))}else signs_reading_2d_arr=JSON.parse(localStorage.getItem("today-text"))}).done(()=>{++files_loaded,onFileParsed()}).fail(()=>{alert("loading sign text failed..")})}let files_loaded=0,can_randomize_sign_text=!1;var signs_decode_array,signs_element_array,signs_reading_2d_arr=new Array;$(window).on("load",loadTextFromFiles);var windowObjectReference=null;function openRequestedPopup(e,n){if(null==windowObjectReference||windowObjectReference.closed){let t=.45*window.innerWidth,a=.275*window.innerWidth;windowObjectReference=window.open(e,n,`toolbar=no,\n        location=no,\n        status=no,\n        menubar=no,\n        scrollbars=yes,\n        resizable=yes,\n        top: ${a},\n        left: ${a},\n        width=${t},\n        height=${t}`)}else windowObjectReference.focus()}